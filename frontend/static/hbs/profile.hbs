<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Suez+One&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <title>Dreamwork</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link href="static/css/style.css" rel="stylesheet" />
  </head>
  <header>
    <div class="flex-logo header-part">
      <a href="/" class="dreamwork-logo" data-link>Dreamwork</a>
    </div>
    <div class="flex-menu header-part"></div>
    <div class="flex-user header-part">
      <a class="user-container" href="/profile">
        <div class="user-name">{{user.name}} {{user.surname}}</div>
        <div class="user-role">{{user.role}}</div>
      </a>
    </div>
  </header>
  <body>
    <div class="body-flex">
      <div class="sidebar">
        <div class="sidebar-nav nav-top">
          <a class="nav-item projects" href="/project">
            <img class="icon" src="/static/media/project.svg" />
            <div class="text">Projects</div>
            <div class="current-project-text">
              <p>Current project:</p>
              <p>Sukurti dreamworkÄ…</p>
            </div>
          </a>
          <a class="nav-item tasks" href="/task">
            <img class="icon" src="/static/media/tasks.svg" />
            <div class="text">Tasks</div>
          </a>
          <a class="nav-item profile" href="/profile">
            <div class="active-indicator"></div>
            <img class="icon" src="/static/media/profile.svg" />
            <div class="text">Profile</div>
          </a>
        </div>
        <div class="sidebar-nav nav-bottom">
          <a
            class="nav-item logout"
            id="logout-btn"
            href="/logout"
            action="/logout"
            method="GET"
          >
            <img class="icon" src="/static/media/logout.svg" />
            <div class="text">Logout</div>
          </a>
        </div>
      </div>

      <div class="view-content profile-view">
        <div class="container rounded mt-5 mb-5">
          <div class="row">
            <div class="col-lg-6 border-right">
              <div class="p-3 py-5">
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <h1 class="text-right">Profile Settings</h1>
                </div>
                <form action="/profile/update-user" method="POST">
                  <div class="row mt-2">
                    <div class="col-lg-6 profile_info"><label
                        for="name"
                        class="labels"
                      >Name</label><input
                        type="name"
                        id="name"
                        name="name"
                        class="form-control"
                        placeholder="first name"
                        value="{{user.name}}"
                      /></div>
                    <div class="col-lg-6 profile_info"><label
                        for="surname"
                        class="labels"
                      >Surname</label><input
                        type="surname"
                        id="surname"
                        name="surname"
                        class="form-control"
                        value="{{user.surname}}"
                        placeholder="surname"
                      /></div>
                    <div class="col-lg-12 profile_info"><label
                        class="labels"
                        for="phoneNumber"
                      >Phone Number</label><input
                        type="phoneNumber"
                        id="phoneNumber"
                        name="phoneNumber"
                        class="form-control"
                        placeholder="enter phone number"
                        value="{{user.phoneNumber}}"
                      /></div>
                    <div class="col-lg-12 profile_info"><label
                        class="labels"
                        for="email"
                      >Email</label><input
                        type="email"
                        id="email"
                        name="email"
                        class="form-control"
                        placeholder="enter email"
                        value="{{user.email}}"
                      /></div>
                    <div class="col-lg-12 password-switch-container">
                      <div class="form-check form-switch">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          id="flexSwitchCheckDefault"
                          name="passwordChecked"
                          value="false"
                          unchecked
                        />
                        <label
                          class="form-check-label"
                          for="flexSwitchCheckDefault"
                        >
                          <h6>Change password</h6>
                        </label>
                      </div>

                    </div>
                    <div class="toggle-password">
                      <div class="col-lg-12"><label
                          class="labels"
                          for="currentPassword"
                        >Current password</label><input
                          type="password"
                          id="currentPassword"
                          name="currentPassword"
                          class="form-control"
                          value=""
                          placeholder="Enter current password"
                        /></div>
                      <div class="col-lg-12"><label
                          class="labels"
                          for="newPassword"
                        >New password</label><input
                          type="password"
                          id="newPassword"
                          name="newPassword"
                          class="form-control"
                          value=""
                          placeholder="Enter new password"
                        /></div>
                      <div class="col-lg-12"><label
                          class="labels"
                          for="repeatPassword"
                        >Repeat password</label><input
                          type="password"
                          id="repeatPassword"
                          name="repeatPassword"
                          class="form-control"
                          value=""
                          placeholder="Repeat new password"
                        /></div>
                    </div>

                  </div>
                  <div class="mt-5 text-center"><button
                      class="btn btn-lg btn-primary profile-button"
                      type="submit"
                    >Save Profile</button>
                  </div>

                  {{#if successMessage}}
                    <h4 class="alert mt-4 success-alert">{{successMessage}}</h4>
                  {{/if}}
                  {{#if errorMessage}}
                    <h4 class="alert mt-4 error-alert">{{errorMessage}}</h4>
                  {{/if}}
                </form>
                <div class="delete-button-container mt-4 mb-5">
                  <button class="delete-button delete-user">Leave dreamwork</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/static/js/profile.js">const userId =
      {{userId}};</script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
      integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
      crossorigin="anonymous"
    ></script>

  </body>
</html>